{"version":3,"sources":["classes/Caisse.ts","classes/EtatDuCompte.ts","classes/Solde.ts","classes/Transaction.ts","app.ts"],"names":[],"mappings":";;;;;;AIAA,IAAA,QAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,wBAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,uBAAA,CAAA,EAEA;IHFa,ACCA,ACJA;AFKT,ACCA,ACLA,gBFIY,CCCA,KDDZ,CCCA,ACJY,CFGe,CCCA,ECL3B,EAEY,OAFZ,EAGY,GAHZ,EAIY,MAJZ,EAI0B;ACC9B,AHD+B,ACCA,ACDD,ICCxB,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,4BAAvB,CAAb;AACA,IAAI,QAAQ,GAAG,IAAI,QAAA,CAAA,MAAJ,CAAW,CAAX,EAAc,EAAd,CAAf;AACA,AHFQ,ACCA,ACLQ,ICMZ,KHFS,ACCA,ACLG,GCMJ,CDNI,ECMD,CDNC,CFIR,CCCA,CECW,CHFK,AEJR,CDKS,KECN,CAAA,CHFa,CAAC,ACCA,CAAC,EECnB,CAAU,QAAV,CAAf,AHFwB,CAAuB,ACCtB,CAAuB,MDDxB,CAAhB,CCCiB,CAAjB;AEER,AHFQ,ACCA,ACLQ,ICMZ,AHFI,ACCA,KCLQ,CFIF,ACCA,CDDC,ACCA,KCLC,GCMG,ADNH,CFIR,ACCA,CDDiB,ACCA,CECH,GHFd,ACCA,CECkB,ADNV,cCMU,CAAA,IAAJ,CAAS,QAAT,CAAtB,EACA;AHFK,ACCA,ACLW,IHAH,KGAG,GAAA,GAAA,GAAA;ACOhB,AJOI,AGbY,ICMV,IAAI,CDNM,ECMH,IDNG,GHcA,AGdA,CCMK,CAAC,GJOlB,CGbY,CHeA,QITH,CAAuB,EJOhC,EAEsC,GIT7B,CAAb;AACA,AJQ0C,AGdjC,ICMH,GAAG,GAAG,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAAZ;AACA,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAAhB;AACA,AJKgB,IILV,KJKU,CILJ,CHLR,ACCA,EEIW,CJKC,GAAA,IILO,CAAC,AJKR,KCVL,ACCA,MDDP,ACCA,EEIW,AHLW,ACCA,CEIY,SAAvB,CAAf;AAEA,AJIgB,ACVR,ACCA,IEKF,EAAE,GAAG,AJIK,EETH,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","file":"app.c61986b1.js","sourceRoot":"..\\src","sourcesContent":["import { IObserver } from \"../interfaces/Observer\";\r\nimport { ISubject } from \"../interfaces/Subject\"\r\nimport { Transaction } from \"./Transaction\"\r\n\r\nexport class Caisse implements ISubject {\r\n   private observers: IObserver[]=[];\r\n    subscribe(obs: IObserver) {\r\n        this.observers.push(obs)\r\n    }\r\n    unsubscribe(obs: IObserver) {\r\n        let index = this.observers.indexOf(obs)\r\n        this.observers.splice(index, 1)\r\n   }\r\n    notifyObserver() {\r\n        for (const elm of this.observers) {\r\n           elm.update(this)\r\n       }\r\n   }\r\n    constructor(\r\n        private solde: number,\r\n        private transaction: Transaction[],\r\n       \r\n    ) { }\r\n    getTransaction() {\r\n        return this.transaction\r\n    }\r\n    getSolde() {\r\n        return this.solde\r\n    }\r\n    getEtatCompte() {\r\n        return this.solde\r\n    }\r\n    AjoutTransaction(transaction: Transaction) {\r\n        this.transaction.push(transaction)\r\n        if (transaction.getType() === 'Debit') {\r\n            this.solde -= transaction.getMontant()\r\n            \r\n        } else {\r\n            this.solde += transaction.getMontant()    \r\n        } console.log(\"Solde : \", this.solde);\r\n        this.notifyObserver();\r\n    }\r\n\r\n    EtatCompte(transaction: Transaction) {\r\n        this.transaction.push(transaction)\r\n        if (this.solde < 0) {\r\n         console.log( 'DEBITEUR');  \r\n            \r\n        } else if (this.solde === 0){ \r\n           console.log('NULL'); \r\n        } else { \r\n            console.log('CREDITEUR'); \r\n         } \r\n        this.notifyObserver();\r\n    }\r\n}","import { IObserver } from \"../interfaces/Observer\";\r\nimport { Caisse } from \"./Caisse\";\r\n\r\nexport class Etat implements IObserver{\r\n    private viewEtat : HTMLDivElement\r\n    constructor(caisse : Caisse) {\r\n        this.viewEtat = document.querySelector(\"#etat\")!\r\n        caisse.subscribe(this)\r\n    }\r\n    update(caisse : Caisse) {\r\n        // this.viewEtat.innerText = caisse.getEtatCompte();\r\n        this.viewEtat.innerText = caisse.getEtatCompte() <=0 ? 'DEBITEUR' : 'CREDITEUR';\r\n        this.viewEtat.className = this.viewEtat.innerText;\r\n    }\r\n}","\r\nimport { IObserver } from \"../interfaces/Observer\";\r\nimport { Caisse } from \"./Caisse\";\r\n\r\nexport class Solde implements IObserver{\r\n    private viewSolde : HTMLDivElement\r\n    constructor(caisse : Caisse) {\r\n        this.viewSolde = document.querySelector(\"#solde\")!\r\n        caisse.subscribe(this)\r\n    }\r\n    update(caisse : Caisse) {\r\n        this.viewSolde.innerText = caisse.getSolde().toString();\r\n   \r\n    }\r\n}","export class Transaction {\r\n    constructor(\r\n        private type: string,\r\n        private montant: number,\r\n        private qui: string,\r\n        private raison: string\r\n    ) { }\r\n    text() {\r\n        return `${this.montant}F ont été ${this.type === \"Debit\" ? \"Retrait\" : \"Déposé\"} par ${this.qui} suite à ${this.raison}`\r\n    }\r\n    getMontant() {\r\n       return  this.montant\r\n    }\r\n    getType() {\r\n        return  this.type\r\n     }\r\n}","import { Caisse } from \"./classes/Caisse\";\r\nimport { Etat } from \"./classes/EtatDuCompte\";\r\nimport { Solde } from \"./classes/Solde\";\r\nimport { Transaction } from \"./classes/Transaction\";\r\n\r\n//Interception du formulaire\r\nconst form = document.querySelector(\".formulaire-de-transaction\") as HTMLFormElement;\r\nlet maCaisse = new Caisse(0, []);\r\nlet monSolde = new Solde(maCaisse);\r\nlet etatDeMonCompte = new Etat(maCaisse);\r\n//Interception des Inputs du formulaire\r\nconst type = document.querySelector(\"#type\") as HTMLInputElement;\r\nconst qui = document.querySelector('#qui') as HTMLInputElement;\r\nconst montant = document.querySelector(\"#montant\") as HTMLInputElement;\r\nconst raison = document.querySelector(\"#raison\") as HTMLInputElement;\r\n\r\nconst ul = document.querySelector(\"ul\")!;\r\n\r\nform.addEventListener('submit', (e: Event) => {\r\n    e.preventDefault();\r\n  let mesTransactions = new Transaction(\r\n      type.value,\r\n      montant.valueAsNumber,\r\n      qui.value,\r\n      raison.value\r\n  );\r\n  maCaisse.AjoutTransaction(mesTransactions);\r\n  maCaisse.EtatCompte(mesTransactions);\r\n  \r\n  const render = (Tr:Transaction, container: HTMLUListElement) => {\r\n    let li = document.createElement(\"li\");\r\n    let h4 = document.createElement(\"h4\");\r\n    let p = document.createElement(\"p\");\r\n    h4.innerText = Tr.getType() === 'Debit' ? 'Debit' : 'Credit';\r\n    h4.className = Tr.getType();\r\n    li.className = Tr.getType();\r\n    p.innerText = Tr.text();\r\n    li.append(h4);\r\n    li.append(p);\r\n    ul.append(li);\r\n    container.append(li);\r\n  };\r\n  const reset = 0;\r\n  montant.valueAsNumber = reset;\r\n  qui.value = \"\";\r\n  raison.value = \"\";\r\n  render(mesTransactions, ul);\r\n});"]}